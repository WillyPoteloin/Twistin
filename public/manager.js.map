{"version":3,"sources":["app/modules/manager/app.js","app/modules/manager/medias.js","app/modules/manager/route.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/manager.js","sourcesContent":["angular.module('app', ['ngRoute']);\n\nvar app = angular.module('app');\n\napp.value('keyword', '');","var app = angular.module('app');\n\napp.controller('medias', function ($scope, $http, $routeParams) {\n\n\t$scope.getAll = function() {\t\n\t\t// on appel l'API pour récupérer les medias\n\t\t$http.get('/medias').\n\t\tsuccess(function(data, status, headers, config) {\n\t\t\t$scope.medias = data;\n\t\t\t// on regarde si on est sur un média\n\t\t\tif($routeParams.id != undefined) {\n\t\t\t\t// on doit trouver le media dans le tableau de media\n\t\t\t\t$.each($scope.medias, function(index, val) {\n\t\t\t\t\tif($routeParams.id === val._id) {\n\t\t\t\t\t\t$scope.mediaCurrent = val;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}).\n\t\terror(function(data, status, headers, config) {\n\t\t});\n\t};\n\n\t$scope.add = function() {\n\t\t$http.post('/medias/add', {media: $scope.mediaToAdd}).\n\t\tsuccess(function(data, status, headers, config) {\n\t\t\t// on vide l'objet pour l'ajout d'un média\n\t\t\t$scope.mediaToAdd.nom = '';\n\t\t\t$scope.mediaToAdd.url = '';\n\t\t\t$scope.mediaToAdd.nbChaine = 0;\n\t\t}).\n\t\terror(function(data, status, headers, config) {\n\t\t\t// on vide l'objet pour l'ajout d'un média\n\t\t\t$scope.mediaToAdd.nom = '';\n\t\t\t$scope.mediaToAdd.url = '';\n\t\t\t$scope.mediaToAdd.nbChaine = 0;\n\t\t});\n\n\t};\n\t$scope.edit = function() {\n\t\t\n\t};\n\t$scope.delete = function() {\n\t\tif($scope.mediaCurrent._id != undefined) {\n\t\t\t$http.delete('/medias/delete/'+$scope.mediaCurrent._id).\n\t\t\tsuccess(function(data, status, headers, config) {\n\t\t\t\t// on vide l'objet pour l'ajout d'un média\n\t\t\t\t$scope.mediaCurrent._id = undefined;\n\t\t\t\t$scope.mediaCurrent.nom = '';\n\t\t\t\t$scope.mediaCurrent.url = '';\n\t\t\t\t$scope.mediaCurrent.nbChaine = 0;\n\t\t\t}).\n\t\t\terror(function(data, status, headers, config) {\n\t\t\t\t// on vide l'objet pour l'ajout d'un média\n\t\t\t\t$scope.mediaCurrent._id = undefined;\n\t\t\t\t$scope.mediaCurrent.nom = '';\n\t\t\t\t$scope.mediaCurrent.url = '';\n\t\t\t\t$scope.mediaCurrent.nbChaine = 0;\n\t\t\t});\n\n\t\t}\n\t};\n\n\t// objet pour l'édition d'un média\n\t$scope.mediaCurrent = {\n\t\tnom: '',\n\t\turl: '',\n\t\tnbChaine: 0\n\t};\n\n\t// objet pour l'ajout d'un média\n\t$scope.mediaToAdd = {\n\t\tnom: '',\n\t\turl: '',\n\t\tnbChaine: 0\n\t};\n\n\t// on doit récupérer tous les medias en base\n\t$scope.medias = $scope.getAll();\n});","var app = angular.module('app');\n\napp.config(function($routeProvider, $locationProvider) {\n\t$routeProvider.when('/', {\n\t\ttemplateUrl: 'manager/views/home.html'\n\t})\n\t.when('/home', {\n\t\tredirectTo: '/'})\n\t.when('/medias', {\n\t\ttemplateUrl: 'manager/views/medias.html'})\n\t.when('/medias/add', {\n\t\ttemplateUrl: 'manager/views/add_medias.html'})\n\t.when('/medias/:id', {\n\t\ttemplateUrl: 'manager/views/media.html'})\n\t.when('/404', {\n\t\ttemplateUrl: 'manager/views/404.html'\n\t})\n\t.otherwise({\n\t\tredirectTo: '/404'\n\t});\n\n\t// $locationProvider.html5Mode(true);\n});"]}